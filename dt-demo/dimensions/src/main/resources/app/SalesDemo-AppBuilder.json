{"displayName":"SalesDemo-AppBuilder","attributes":{},"operators":[{"name":"Input","attributes":{},"class":"com.datatorrent.demos.dimensions.sales.generic.JsonSalesGenerator","ports":[{"name":"jsonBytes","attributes":{}}],"properties":{"com.datatorrent.demos.dimensions.sales.generic.JsonSalesGenerator":{"minAmount":0.99,"maxAmount":100,"maxDiscountPercent":0.75,"maxTuplesPerWindow":"300","tuplesPerWindowDeviation":200,"tuplesRateCycle":40,"discountCycle":600,"maxRegionId":0,"eventSchemaJSON":"{\n  \"keys\":[{\"name\":\"channel\",\"type\":\"string\",\"enumValues\":[\"Mobile\",\"Online\",\"Store\"]},\n          {\"name\":\"region\",\"type\":\"string\",\"enumValues\":[\"Atlanta\",\"Boston\",\"Chicago\",\"Cleveland\",\"Dallas\",\"Minneapolis\",\"New York\",\"Philadelphia\",\"San Francisco\",\"St. Louis\"]},\n          {\"name\":\"product\",\"type\":\"string\",\"enumValues\":[\"Laptops\",\"Printers\",\"Routers\",\"Smart Phones\",\"Tablets\"]}],\n \"timeBuckets\":[\"1m\", \"1h\", \"1d\"],\n \"values\":\n  [{\"name\":\"sales\",\"type\":\"double\",\"aggregators\":[\"SUM\"]},\n   {\"name\":\"discount\",\"type\":\"double\",\"aggregators\":[\"SUM\"]},\n   {\"name\":\"tax\",\"type\":\"double\",\"aggregators\":[\"SUM\"]}],\n \"dimensions\":\n  [{\"combination\":[]},\n   {\"combination\":[\"channel\"]},\n   {\"combination\":[\"region\"]},\n   {\"combination\":[\"product\"]},\n   {\"combination\":[\"channel\",\"region\"]},\n   {\"combination\":[\"channel\",\"product\"]},\n   {\"combination\":[\"region\",\"product\"]},\n   {\"combination\":[\"channel\",\"region\",\"product\"]}]\n}"}},"x":138.53125013332485,"y":-193.5326885880545},{"name":"Parse","attributes":{},"class":"com.datatorrent.demos.dimensions.sales.generic.JsonToMapConverter","ports":[{"name":"outputMap","attributes":{}},{"name":"input","attributes":{}}],"properties":{"com.datatorrent.demos.dimensions.sales.generic.JsonToMapConverter":{}},"x":356.77158616345207,"y":153.4230822515654},{"name":"Enrich","attributes":{},"class":"com.datatorrent.demos.dimensions.sales.generic.EnrichmentOperator","ports":[{"name":"outputPort","attributes":{}},{"name":"inputPort","attributes":{}}],"properties":{"com.datatorrent.demos.dimensions.sales.generic.EnrichmentOperator":{"filePath":"products.txt","scanInterval":"0"}},"x":615.8833065910508,"y":-82.5226230501584},{"name":"Compute","attributes":{},"class":"com.datatorrent.lib.dimensions.DimensionsComputationFlexibleSingleSchemaMap","ports":[{"name":"output","attributes":{}},{"name":"input","attributes":{}}],"properties":{"com.datatorrent.lib.dimensions.DimensionsComputationFlexibleSingleSchemaMap":{"valueNameAliases":{"java.util.HashMap":{}},"keyNameAliases":{"java.util.HashMap":{}},"schemaID":1,"configurationSchemaJSON":"{\n  \"keys\":[{\"name\":\"channel\",\"type\":\"string\",\"enumValues\":[\"Mobile\",\"Online\",\"Store\"]},\n          {\"name\":\"region\",\"type\":\"string\",\"enumValues\":[\"Atlanta\",\"Boston\",\"Chicago\",\"Cleveland\",\"Dallas\",\"Minneapolis\",\"New York\",\"Philadelphia\",\"San Francisco\",\"St. Louis\"]},\n          {\"name\":\"product\",\"type\":\"string\",\"enumValues\":[\"Laptops\",\"Printers\",\"Routers\",\"Smart Phones\",\"Tablets\"]}],\n \"timeBuckets\":[\"1m\", \"1h\", \"1d\"],\n \"values\":\n  [{\"name\":\"sales\",\"type\":\"double\",\"aggregators\":[\"SUM\"]},\n   {\"name\":\"discount\",\"type\":\"double\",\"aggregators\":[\"SUM\"]},\n   {\"name\":\"tax\",\"type\":\"double\",\"aggregators\":[\"SUM\"]}],\n \"dimensions\":\n  [{\"combination\":[]},\n   {\"combination\":[\"channel\"]},\n   {\"combination\":[\"region\"]},\n   {\"combination\":[\"product\"]},\n   {\"combination\":[\"channel\",\"region\"]},\n   {\"combination\":[\"channel\",\"product\"]},\n   {\"combination\":[\"region\",\"product\"]},\n   {\"combination\":[\"channel\",\"region\",\"product\"]}]\n}"}},"x":852.6376364582688,"y":187.8991688634011},{"name":"Store","attributes":{},"class":"com.datatorrent.contrib.dimensions.AppDataSingleSchemaDimensionStoreHDHT","ports":[{"name":"queryResult","attributes":{}},{"name":"input","attributes":{}},{"name":"query","attributes":{}}],"properties":{"com.datatorrent.contrib.dimensions.AppDataSingleSchemaDimensionStoreHDHT":{"keyComparator":{"com.datatorrent.contrib.hdht.HDHTReader$DefaultKeyComparator":{}},"resultFormatter":{"com.datatorrent.lib.appdata.schemas.ResultFormatter":{}},"updateEnumValues":false,"schemaID":1,"bucketID":"0","cacheWindowDuration":120,"partitionCount":1,"maxWalFileSize":67108864,"flushIntervalCount":120,"flushSize":1000000,"maxFileSize":134217728,"fileStore":{"com.datatorrent.contrib.hdht.tfile.TFileImpl$DTFileImpl":{"comparator":"memcmp","outputBufferSize":"262144","chunkSize":"1048576","minBlockSize":"65536","compressName":"none","inputBufferSize":"262144","basePath":"Demos/SalesDemo-AppBuilder11"}},"configurationSchemaJSON":"{\n  \"keys\":[{\"name\":\"channel\",\"type\":\"string\",\"enumValues\":[\"Mobile\",\"Online\",\"Store\"]},\n          {\"name\":\"region\",\"type\":\"string\",\"enumValues\":[\"Atlanta\",\"Boston\",\"Chicago\",\"Cleveland\",\"Dallas\",\"Minneapolis\",\"New York\",\"Philadelphia\",\"San Francisco\",\"St. Louis\"]},\n          {\"name\":\"product\",\"type\":\"string\",\"enumValues\":[\"Laptops\",\"Printers\",\"Routers\",\"Smart Phones\",\"Tablets\"]}],\n \"timeBuckets\":[\"1m\", \"1h\", \"1d\"],\n \"values\":\n  [{\"name\":\"sales\",\"type\":\"double\",\"aggregators\":[\"SUM\"]},\n   {\"name\":\"discount\",\"type\":\"double\",\"aggregators\":[\"SUM\"]},\n   {\"name\":\"tax\",\"type\":\"double\",\"aggregators\":[\"SUM\"]}],\n \"dimensions\":\n  [{\"combination\":[]},\n   {\"combination\":[\"channel\"]},\n   {\"combination\":[\"region\"]},\n   {\"combination\":[\"product\"]},\n   {\"combination\":[\"channel\",\"region\"]},\n   {\"combination\":[\"channel\",\"product\"]},\n   {\"combination\":[\"region\",\"product\"]},\n   {\"combination\":[\"channel\",\"region\",\"product\"]}]\n}"}},"x":1116.2108941006593,"y":303.0455296351206},{"name":"Query","attributes":{},"class":"com.datatorrent.lib.io.PubSubWebSocketAppDataQuery","ports":[{"name":"outputPort","attributes":{}}],"properties":{"com.datatorrent.lib.io.PubSubWebSocketAppDataQuery":{"ioThreadMultiplier":"1","topic":"SalesDimensionsQuery"}},"x":1156.517517756411,"y":-59.674785396295896},{"name":"Result","attributes":{},"class":"com.datatorrent.lib.io.PubSubWebSocketAppDataResult","ports":[{"name":"input","attributes":{}}],"properties":{"com.datatorrent.lib.io.PubSubWebSocketAppDataResult":{"ioThreadMultiplier":"1","numRetries":"3","waitMillisRetry":"5000","topic":"SalesDimensionsResult"}},"x":1451.3383604043913,"y":178.65916776492222},{"name":"Operator 1","attributes":{},"class":"com.datatorrent.contrib.memsql.MemsqlPOJOOutputOperator","ports":[{"name":"input","attributes":{}}],"properties":{"com.datatorrent.contrib.memsql.MemsqlPOJOOutputOperator":{"store":{"com.datatorrent.contrib.memsql.MemsqlStore":{"databaseDriver":"com.mysql.jdbc.Driver"}},"batchSize":1000}},"x":547.5560790890023,"y":283.4573053536658}],"streams":[{"name":"query","sinks":[{"operatorName":"Store","portName":"query"}],"source":{"operatorName":"Query","portName":"outputPort"}},{"name":"result","sinks":[{"operatorName":"Result","portName":"input"}],"source":{"operatorName":"Store","portName":"queryResult"}},{"name":"enriched","sinks":[{"operatorName":"Store","portName":"input"}],"source":{"operatorName":"Compute","portName":"output"}},{"name":"ma","sinks":[{"operatorName":"Enrich","portName":"inputPort"},{"operatorName":"Operator 1","portName":"input"}],"source":{"operatorName":"Parse","portName":"outputMap"}},{"name":"map","sinks":[{"operatorName":"Compute","portName":"input"}],"source":{"operatorName":"Enrich","portName":"outputPort"}},{"name":"json","locality":"CONTAINER_LOCAL","sinks":[{"operatorName":"Parse","portName":"input"}],"source":{"operatorName":"Input","portName":"jsonBytes"}}]}